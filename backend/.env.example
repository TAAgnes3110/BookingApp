# ============================================
# TAAgnes Backend - Environment Variables
# ============================================
# Copy file này thành .env và điền các giá trị phù hợp
# Lệnh: cp .env.example .env (Linux/Mac) hoặc Copy-Item .env.example .env (Windows PowerShell)

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3000

# ============================================
# MYSQL DATABASE
# ============================================
# Thông tin kết nối MySQL database
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DB=taagnes_backend
MYSQL_USER=root
MYSQL_PASSWORD=root

# ============================================
# JWT AUTHENTICATION
# ============================================
# ⚠️ QUAN TRỌNG: Thay đổi JWT_SECRET trong production!
# Tạo secret mạnh: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ACCESS_EXPIRATION_MINUTES=30
JWT_REFRESH_EXPIRATION_DAYS=30

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================
# URL của frontend application
# Development: http://localhost:3000
# Production: https://your-frontend-domain.com
# Nếu muốn cho phép tất cả: *
CORS_ORIGIN=http://localhost:3000

# ============================================
# LOGGING
# ============================================
# Log levels: error, warn, info, http, verbose, debug, silly
# Production nên dùng: info hoặc warn
# Development có thể dùng: debug
LOG_LEVEL=info

# ============================================
# OAUTH - GOOGLE
# ============================================
# Đăng ký tại: https://console.cloud.google.com/
# 1. Tạo OAuth 2.0 Client ID
# 2. Thêm Authorized redirect URIs: http://localhost:3000/v1/auth/google/callback
# 3. Copy Client ID và Client Secret vào đây
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/v1/auth/google/callback

# ============================================
# OAUTH - FACEBOOK
# ============================================
# Đăng ký tại: https://developers.facebook.com/
# 1. Tạo App → Facebook Login
# 2. Thêm Valid OAuth Redirect URIs: http://localhost:3000/v1/auth/facebook/callback
# 3. Copy App ID và App Secret vào đây
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
FACEBOOK_CALLBACK_URL=http://localhost:3000/v1/auth/facebook/callback

# ============================================
# OAUTH - GITHUB
# ============================================
# Đăng ký tại: https://github.com/settings/developers
# 1. New OAuth App
# 2. Authorization callback URL: http://localhost:3000/v1/auth/github/callback
# 3. Copy Client ID và Client Secret vào đây
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=http://localhost:3000/v1/auth/github/callback

# ============================================
# SESSION (Cho OAuth)
# ============================================
# Secret key cho express-session
# Tạo secret: openssl rand -base64 32
SESSION_SECRET=your-session-secret-key-change-this-in-production

# ============================================
# EMAIL CONFIGURATION
# ============================================
# Chọn 1 trong 2 cách: SMTP hoặc Email API

# --- Option 1: SMTP (Gmail, Outlook, etc.) ---
# ⚠️ Lưu ý: Nhiều hosting free tier KHÔNG hỗ trợ SMTP (Railway Hobby, Render free)
# Chỉ dùng nếu hosting của bạn hỗ trợ SMTP hoặc dùng Gmail App Password
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@yourdomain.com

# --- Option 2: Email API (Resend, SendGrid) - Khuyến nghị cho free tier ---
# Resend: https://resend.com (100 emails/ngày FREE)
# SendGrid: https://sendgrid.com (100 emails/ngày FREE)
# Mailgun: https://mailgun.com (5,000 emails/tháng FREE - 3 tháng đầu)

# Resend API
RESEND_API_KEY=your-resend-api-key
RESEND_FROM_EMAIL=noreply@yourdomain.com

# SendGrid API (nếu dùng SendGrid thay vì Resend)
# SENDGRID_API_KEY=your-sendgrid-api-key
# SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# ============================================
# FRONTEND URL (Cho OAuth redirects)
# ============================================
# URL của frontend để redirect sau khi OAuth thành công
FRONTEND_URL=http://localhost:3000

# ============================================
# NOTES
# ============================================
# 1. KHÔNG commit file .env vào git (đã có trong .gitignore)
# 2. Trong production, đảm bảo tất cả secrets đều mạnh và unique
# 3. OAuth callbacks phải match với URLs đã đăng ký trong OAuth providers
# 4. Nếu dùng free tier hosting, nên dùng Email API thay vì SMTP
# 5. JWT_SECRET và SESSION_SECRET phải khác nhau và mạnh
